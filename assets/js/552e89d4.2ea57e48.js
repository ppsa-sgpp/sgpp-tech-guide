"use strict";(self.webpackChunksgpp_tech_guide=self.webpackChunksgpp_tech_guide||[]).push([[379],{1911:(e,s,r)=>{r.d(s,{R:()=>t,x:()=>a});var i=r(9729);const n={},o=i.createContext(n);function t(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),i.createElement(o.Provider,{value:s},e.children)}},6634:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"adr/gateway-api-service-registry","title":"ADR-009 \u2013 Gateway de APIs e Service Registry (JHipster)","description":"- Status: Accepted","source":"@site/docs/adr/0010-gateway-api-service-registry.md","sourceDirName":"adr","slug":"/adr/gateway-api-service-registry","permalink":"/sgpp-tech-guide/docs/adr/gateway-api-service-registry","draft":false,"unlisted":false,"editUrl":"https://github.com/ppsa-sgpp/sgpp-tech-guide/edit/main/docs/adr/0010-gateway-api-service-registry.md","tags":[],"version":"current","sidebarPosition":10,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ADR-008 \u2013 Runtime de containers no IBM Cloud Kubernetes Service","permalink":"/sgpp-tech-guide/docs/adr/kubernetes"},"next":{"title":"ADR-010 \u2013 Conven\xe7\xf5es de nomenclatura e padr\xf5es de implementa\xe7\xe3o (BAW/ODM)","permalink":"/sgpp-tech-guide/docs/adr/convencao-nomenclatura"}}');var n=r(5813),o=r(1911);const t={},a="ADR-009 \u2013 Gateway de APIs e Service Registry (JHipster)",d={},c=[{value:"Contexto",id:"contexto",level:2},{value:"Decis\xe3o",id:"decis\xe3o",level:2},{value:"Consequ\xeancias",id:"consequ\xeancias",level:2},{value:"Operacional",id:"operacional",level:2},{value:"Rela\xe7\xf5es",id:"rela\xe7\xf5es",level:2}];function l(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"adr-009--gateway-de-apis-e-service-registry-jhipster",children:"ADR-009 \u2013 Gateway de APIs e Service Registry (JHipster)"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Status:"})," Accepted"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Data:"})," 2019-09-09"]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"contexto",children:"Contexto"}),"\n",(0,n.jsxs)(s.p,{children:["O SGPP adota um estilo de arquitetura que se beneficia de capacidades t\xedpicas de microsservi\xe7os: roteamento centralizado, autentica\xe7\xe3o, rate-limit, observabilidade, service discovery e configura\xe7\xe3o central.",(0,n.jsx)(s.br,{}),"\n","O ",(0,n.jsx)(s.strong,{children:"JHipster"})," prov\xea um ",(0,n.jsx)(s.strong,{children:"API Gateway"})," pronto para uso e o ",(0,n.jsx)(s.strong,{children:"JHipster Registry"})," (Config Server + Service Discovery) necess\xe1rios para operar esse modelo com baixo esfor\xe7o inicial e forte integra\xe7\xe3o com o ecossistema Spring."]}),"\n",(0,n.jsx)(s.h2,{id:"decis\xe3o",children:"Decis\xe3o"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["Utilizar o ",(0,n.jsx)(s.strong,{children:"framework JHipster"})," para acelerar a entrega de servi\xe7os e padronizar o stack (Spring Boot, pr\xe1ticas de seguran\xe7a, testes, observabilidade)."]}),"\n",(0,n.jsxs)(s.li,{children:["Adotar o ",(0,n.jsx)(s.strong,{children:"JHipster API Gateway"})," como ponto \xfanico de entrada para clientes e frontends."]}),"\n",(0,n.jsxs)(s.li,{children:["Utilizar o ",(0,n.jsx)(s.strong,{children:"JHipster Registry"})," para ",(0,n.jsx)(s.strong,{children:"service discovery"})," e ",(0,n.jsx)(s.strong,{children:"configura\xe7\xe3o centralizada"})," dos servi\xe7os registrados."]}),"\n",(0,n.jsxs)(s.li,{children:["Registrar servi\xe7os do dom\xednio (ex.: ",(0,n.jsx)(s.code,{children:"sgpp-services"}),", Document Service, handlers/proje\xe7\xf5es) no ",(0,n.jsx)(s.strong,{children:"Registry"}),", permitindo resolu\xe7\xe3o de endpoints e externaliza\xe7\xe3o de configura\xe7\xf5es."]}),"\n",(0,n.jsx)(s.li,{children:"Manter autentica\xe7\xe3o e autoriza\xe7\xe3o no Gateway, integrando com a decis\xe3o de identidade (ADR-004), e propagar contextos necess\xe1rios aos servi\xe7os de backend."}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"consequ\xeancias",children:"Consequ\xeancias"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Positivas"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Acelera\xe7\xe3o"})," do desenvolvimento com scaffolding, padr\xf5es e integra\xe7\xf5es prontas."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Uniformiza\xe7\xe3o"})," de seguran\xe7a, telemetria e conven\xe7\xf5es entre servi\xe7os."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Descoberta de servi\xe7os"})," e ",(0,n.jsx)(s.strong,{children:"config central"})," simplificam opera\xe7\xf5es e mudan\xe7as de ambiente."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Ponto \xfanico de pol\xedticas"})," (throttling, CORS, headers de seguran\xe7a, roteamento condicional)."]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Negativas"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Aumento de acoplamento"})," ao ecossistema JHipster/Spring Cloud e \xe0s suas decis\xf5es de vers\xe3o."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Gateway"})," adiciona ",(0,n.jsx)(s.strong,{children:"lat\xeancia"})," e mais um componente cr\xedtico (precisa de HA e observabilidade)."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Registry/Config"})," exigem ",(0,n.jsx)(s.strong,{children:"disponibilidade"})," e ",(0,n.jsx)(s.strong,{children:"rotinas de manuten\xe7\xe3o"})," (backup, upgrades, hardening)."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Migra\xe7\xf5es de vers\xe3o"})," do JHipster e Spring Cloud podem demandar esfor\xe7o coordenado em v\xe1rios servi\xe7os."]}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"operacional",children:"Operacional"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:["O Gateway e o Registry executam em ",(0,n.jsx)(s.strong,{children:"Kubernetes"})," (ver ADR-009), com ",(0,n.jsx)(s.strong,{children:"replicas"})," para alta disponibilidade."]}),"\n",(0,n.jsxs)(s.li,{children:["As configura\xe7\xf5es versionadas residem em reposit\xf3rio Git e s\xe3o servidas pelo ",(0,n.jsx)(s.strong,{children:"Config Server"})," embutido no Registry."]}),"\n",(0,n.jsx)(s.li,{children:"Pol\xedticas no Gateway cobrem autentica\xe7\xe3o, roteamento por contexto e headers de rastreamento (correla\xe7\xe3o/tracing)."}),"\n"]}),"\n",(0,n.jsx)(s.h2,{id:"rela\xe7\xf5es",children:"Rela\xe7\xf5es"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"ADR-009 \u2013 Runtime em IBM Cloud Kubernetes Service"}),": Gateway/Registry e servi\xe7os rodam no IKS."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsxs)(s.strong,{children:["ADR-014 \u2013 Consolida\xe7\xe3o no ",(0,n.jsx)(s.code,{children:"sgpp-services"})]}),": ",(0,n.jsx)(s.code,{children:"sgpp-services"})," registra-se no Registry e exp\xf5e APIs por tr\xe1s do Gateway."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"ADR-007 \u2013 Kafka"}),": servi\xe7os descobertos via Registry tamb\xe9m atuam como produtores/consumidores de eventos."]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"ADR-008 \u2013 MongoDB"}),": servi\xe7os por tr\xe1s do Gateway leem/escrevem nas proje\xe7\xf5es materializadas."]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);