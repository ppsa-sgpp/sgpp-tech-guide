"use strict";(self.webpackChunksgpp_tech_guide=self.webpackChunksgpp_tech_guide||[]).push([[5281],{1911:(e,s,r)=>{r.d(s,{R:()=>a,x:()=>t});var i=r(9729);const n={},o=i.createContext(n);function a(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(o.Provider,{value:s},e.children)}},3531:(e,s,r)=>{r.d(s,{A:()=>i});const i=r.p+"assets/images/servico_persistir_general_purpose_entity-e81a9bde788f01fc817495211f7600c9.svg"},5317:(e,s,r)=>{r.d(s,{A:()=>i});const i=r.p+"assets/images/servico_persistir_general_purpose_entity_exemplo-e8fae3abec9f923e2c336595b04cbdaf.png"},5366:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"building-blocks/ibm-baw/servico-persistir-general-purpose-entity","title":"Servi\xe7os de Persist\xeancia via General Purpose Entity","description":"\ud83d\udce2 Uso de Template no Toolkit TKTEMPL_SgppTemplates (TKTEMPL)","source":"@site/docs/building-blocks/ibm-baw/servico-persistir-general-purpose-entity.md","sourceDirName":"building-blocks/ibm-baw","slug":"/building-blocks/ibm-baw/servico-persistir-general-purpose-entity","permalink":"/sgpp-tech-guide/docs/building-blocks/ibm-baw/servico-persistir-general-purpose-entity","draft":false,"unlisted":false,"editUrl":"https://github.com/ppsa-sgpp/sgpp-tech-guide/edit/main/docs/building-blocks/ibm-baw/servico-persistir-general-purpose-entity.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Servi\xe7os de Exclus\xe3o via General Purpose Entity","permalink":"/sgpp-tech-guide/docs/building-blocks/ibm-baw/servico-excluir-general-purpose-entity"},"next":{"title":"Servi\xe7os de Recupera\xe7\xe3o via General Purpose Entity","permalink":"/sgpp-tech-guide/docs/building-blocks/ibm-baw/servico-recuperar-general-purpose-entity"}}');var n=r(5813),o=r(1911);const a={},t="Servi\xe7os de Persist\xeancia via General Purpose Entity",d={},l=[{value:"Diagrama BPMN",id:"diagrama-bpmn",level:3},{value:"Etapas de execu\xe7\xe3o",id:"etapas-de-execu\xe7\xe3o",level:2},{value:"1. Definir par\xe2metros de entrada, sa\xedda e privados",id:"1-definir-par\xe2metros-de-entrada-sa\xedda-e-privados",level:3},{value:"2. Adicionar Script de Convers\xe3o de tipo de entrada <em>(etapa condiciona a existir um par\xe2metro de entrada no servi\xe7o)</em>",id:"2-adicionar-script-de-convers\xe3o-de-tipo-de-entrada-etapa-condiciona-a-existir-um-par\xe2metro-de-entrada-no-servi\xe7o",level:3},{value:"3. Usar Linked Services Persistir Geral Purpose Entity SF do  <em>toolkit TKISC_IntegracoesSistemicasComuns</em>",id:"3-usar-linked-services-persistir-geral-purpose-entity-sf-do--toolkit-tkisc_integracoessistemicascomuns",level:3}];function c(e){const s={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.header,{children:(0,n.jsx)(s.h1,{id:"servi\xe7os-de-persist\xeancia-via-general-purpose-entity",children:"Servi\xe7os de Persist\xeancia via General Purpose Entity"})}),"\n",(0,n.jsxs)(s.blockquote,{children:["\n",(0,n.jsxs)(s.p,{children:["\ud83d\udce2 ",(0,n.jsx)(s.strong,{children:"Uso de Template no Toolkit TKTEMPL_SgppTemplates (TKTEMPL)"})]}),"\n",(0,n.jsxs)(s.p,{children:["Este ",(0,n.jsx)(s.em,{children:"building block"})," possui um template dispon\xedvel no toolkit ",(0,n.jsx)(s.strong,{children:"TKTEMPL_SgppTemplates (TKTEMPL)"}),". A menos que existam motivos t\xe9cnicos ou operacionais razo\xe1veis para uma implementa\xe7\xe3o personalizada, o uso do template \xe9 altamente recomendado."]}),"\n",(0,n.jsxs)(s.p,{children:["\u2705 ",(0,n.jsx)(s.strong,{children:"Vantagens de utilizar o template:"})]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Padroniza\xe7\xe3o e conformidade com boas pr\xe1ticas."}),"\n",(0,n.jsx)(s.li,{children:"Manuten\xe7\xe3o simplificada e suporte cont\xednuo."}),"\n",(0,n.jsx)(s.li,{children:"Redu\xe7\xe3o de esfor\xe7o e tempo de desenvolvimento."}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Caso haja necessidade de uma implementa\xe7\xe3o alternativa, recomenda-se justificar a decis\xe3o e avaliar poss\xedveis impactos."}),"\n",(0,n.jsxs)(s.p,{children:["\ud83d\udd17 Consulte a documenta\xe7\xe3o do ",(0,n.jsx)(s.strong,{children:"TKTEMPL_SgppTemplates"})," para mais detalhes sobre o template dispon\xedvel."]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:["\ud83d\udd0d\ufe0f ",(0,n.jsx)(s.strong,{children:"Local de cria\xe7\xe3o:"})," IBM BAW",(0,n.jsx)(s.br,{}),"\n","\u231b\ufe0f ",(0,n.jsx)(s.strong,{children:"Tempo estimado:"})," 30 minutos",(0,n.jsx)(s.br,{}),"\n","\ud83d\udd27 ",(0,n.jsx)(s.strong,{children:"Fun\xe7\xe3o:"})," Realizar chamada a servi\xe7o de persist\xeancia de objeto General Purpose, que permite persistir BO definido no IBM BAW sem a necessidade de defini-lo no backend"]}),"\n",(0,n.jsx)(s.h3,{id:"diagrama-bpmn",children:"Diagrama BPMN"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.img,{alt:"BPMN",src:r(3531).A+"",width:"573",height:"228"})}),"\n",(0,n.jsx)(s.h2,{id:"etapas-de-execu\xe7\xe3o",children:"Etapas de execu\xe7\xe3o"}),"\n",(0,n.jsx)(s.h3,{id:"1-definir-par\xe2metros-de-entrada-sa\xedda-e-privados",children:"1. Definir par\xe2metros de entrada, sa\xedda e privados"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Vari\xe1veis entrada:"})," As seguintes vari\xe1veis devem ser definidas:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:"Vari\xe1vel do tipo a ser persistido"}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Vari\xe1veis sa\xedda:"})," As seguintes vari\xe1veis devem ser definidas:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"id"}),"  do tipo String"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"version"})," do tipo Integer"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Vari\xe1veis privadas:"})," As seguintes vari\xe1veis devem ser definidas:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"data"}),"  do tipo String"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"error"})," do tipo ErrorBO do toolkit TKHE_HandleErrors"]}),"\n"]}),"\n",(0,n.jsxs)(s.h3,{id:"2-adicionar-script-de-convers\xe3o-de-tipo-de-entrada-etapa-condiciona-a-existir-um-par\xe2metro-de-entrada-no-servi\xe7o",children:["2. Adicionar Script de Convers\xe3o de tipo de entrada ",(0,n.jsx)(s.em,{children:"(etapa condiciona a existir um par\xe2metro de entrada no servi\xe7o)"})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Nome:"})," Convers\xe3o de Tipo",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.strong,{children:"Fun\xe7\xe3o:"})," Converter o tipo de entrada do formato ANY, para o formato  do servi\xe7o que esse servi\xe7o encapsula.",(0,n.jsx)(s.br,{}),"\n","Deve-se observar se o par\xe2metro de entrada ou \xe9 um objeto ou \xe9 um JSON",(0,n.jsx)(s.br,{}),"\n","Esse par\xe2metro pode ser fatorado em quantos atributos de entrada forem necess\xe1rios. Os nomes dessas vari\xe1veis tamb\xe9m devem se referir aos nomes dos atributos de entrada"]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Exemplo:"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-javascript",children:"tw.local.data = JSON.stringify(tw.local._variaveDeEntrada_);\n"})}),"\n",(0,n.jsxs)(s.h3,{id:"3-usar-linked-services-persistir-geral-purpose-entity-sf-do--toolkit-tkisc_integracoessistemicascomuns",children:["3. Usar Linked Services Persistir Geral Purpose Entity SF do  ",(0,n.jsx)(s.em,{children:"toolkit TKISC_IntegracoesSistemicasComuns"})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Nome:"})," Persistir Geral Purpose Entity SF",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.strong,{children:"Fun\xe7\xe3o:"})," Servi\xe7o que persiste um objeto gen\xe9rico no formato json.",(0,n.jsx)(s.br,{}),"\n","Deve-se ficar atento com os par\xe2metros de entrada para utilizar o servi\xe7o. Os valores de entrada s\xe3o estes:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"JsonObject"})," do tipo String",(0,n.jsx)(s.br,{}),"\n","Valor: Vari\xe1vel manipulada na tarefa anterior"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"GeralPurposeBOName"})," do tipo String",(0,n.jsx)(s.br,{}),"\n","Valor: Inserir o nome do BO que ser\xe1 utilizado no servi\xe7o entre aspas duplas exemplo:"]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-javascript",children:'"TransferenciaLancamentosBO"\n'})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Token"})," do tipo String",(0,n.jsx)(s.br,{}),"\n","Valor: tw.env.SERVICES_JWT_TOKEN_EV"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"BaseUrl"})," do tipo String\r\nValor: tw.env.SERVICES_BASE_URL_EV"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"TentativasConflito"})," do tipo Integer",(0,n.jsx)(s.br,{}),"\n","Valor: 0"]}),"\n"]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Boundary Event:"})," Adicionar um boundary event para capturar erro ",(0,n.jsx)(s.em,{children:"ConfigurationError"}),".",(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.strong,{children:"Boundary Event:"})," Adicionar um boundary event para capturar erro ",(0,n.jsx)(s.em,{children:"IntegrationError"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Exemplo:"}),(0,n.jsx)(s.br,{}),"\n",(0,n.jsx)(s.img,{alt:"BPMN",src:r(5317).A+"",width:"474",height:"100"})]})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);