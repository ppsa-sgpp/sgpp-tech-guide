"use strict";(self.webpackChunksgpp_tech_guide=self.webpackChunksgpp_tech_guide||[]).push([[211],{3522:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"ibm-baw/servico-persistir-general-purpose-entity","title":"Servi\xe7os de Persist\xeancia via General Purpose Entity","description":"\ud83d\udd0d\ufe0f Local de cria\xe7\xe3o: IBM BAW","source":"@site/docs/ibm-baw/servico-persistir-general-purpose-entity.md","sourceDirName":"ibm-baw","slug":"/ibm-baw/servico-persistir-general-purpose-entity","permalink":"/sgpp-tech-guide/docs/ibm-baw/servico-persistir-general-purpose-entity","draft":false,"unlisted":false,"editUrl":"https://github.com/ppsa-sgpp/sgpp-tech-guide/edit/main/docs/ibm-baw/servico-persistir-general-purpose-entity.md","tags":[],"version":"current","frontMatter":{"title":"Servi\xe7os de Persist\xeancia via General Purpose Entity"},"sidebar":"tutorialSidebar","previous":{"title":"Client-Side Exception Wrapper","permalink":"/sgpp-tech-guide/docs/ibm-baw/client-side-exception-wrapper"},"next":{"title":"Cria\xe7\xe3o de planilha a partir de classe POJO","permalink":"/sgpp-tech-guide/docs/sgpp-services/servico_criacao_planilha_classe"}}');var n=s(4848),a=s(8453);const t={title:"Servi\xe7os de Persist\xeancia via General Purpose Entity"},o=void 0,d={},c=[{value:"Diagrama BPMN",id:"diagrama-bpmn",level:3},{value:"Etapas de execu\xe7\xe3o",id:"etapas-de-execu\xe7\xe3o",level:2},{value:"1. Definir par\xe2metros de entrada, sa\xedda e privados",id:"1-definir-par\xe2metros-de-entrada-sa\xedda-e-privados",level:3},{value:"2. Adicionar Script de Convers\xe3o de tipo de entrada <em>(etapa condiciona a existir um par\xe2metro de entrada no servi\xe7o)</em>",id:"2-adicionar-script-de-convers\xe3o-de-tipo-de-entrada-etapa-condiciona-a-existir-um-par\xe2metro-de-entrada-no-servi\xe7o",level:3},{value:"3. Usar Linked Services Persistir Geral Purpose Entity SF do  <em>toolkit TKISC_IntegracoesSistemicasComuns</em>",id:"3-usar-linked-services-persistir-geral-purpose-entity-sf-do--toolkit-tkisc_integracoessistemicascomuns",level:3}];function l(e){const r={br:"br",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(r.p,{children:["\ud83d\udd0d\ufe0f ",(0,n.jsx)(r.strong,{children:"Local de cria\xe7\xe3o:"})," IBM BAW",(0,n.jsx)(r.br,{}),"\n","\u231b\ufe0f ",(0,n.jsx)(r.strong,{children:"Tempo estimado:"})," 30 minutos",(0,n.jsx)(r.br,{}),"\n","\ud83d\udd27 ",(0,n.jsx)(r.strong,{children:"Fun\xe7\xe3o:"})," Realizar chamada a servi\xe7o de persist\xeancia de objeto General Purpose, que permite persistir BO definido no IBM BAW sem a necessidade de defini-lo no backend"]}),"\n",(0,n.jsx)(r.h3,{id:"diagrama-bpmn",children:"Diagrama BPMN"}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.img,{alt:"BPMN",src:s(4834).A+"",width:"573",height:"228"})}),"\n",(0,n.jsx)(r.h2,{id:"etapas-de-execu\xe7\xe3o",children:"Etapas de execu\xe7\xe3o"}),"\n",(0,n.jsx)(r.h3,{id:"1-definir-par\xe2metros-de-entrada-sa\xedda-e-privados",children:"1. Definir par\xe2metros de entrada, sa\xedda e privados"}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Vari\xe1veis entrada:"})," As seguintes vari\xe1veis devem ser definidas:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsx)(r.li,{children:"Vari\xe1vel do tipo a ser persistido"}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Vari\xe1veis sa\xedda:"})," As seguintes vari\xe1veis devem ser definidas:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"id"}),"  do tipo String"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"version"})," do tipo Integer"]}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Vari\xe1veis privadas:"})," As seguintes vari\xe1veis devem ser definidas:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"data"}),"  do tipo String"]}),"\n"]}),"\n",(0,n.jsxs)(r.h3,{id:"2-adicionar-script-de-convers\xe3o-de-tipo-de-entrada-etapa-condiciona-a-existir-um-par\xe2metro-de-entrada-no-servi\xe7o",children:["2. Adicionar Script de Convers\xe3o de tipo de entrada ",(0,n.jsx)(r.em,{children:"(etapa condiciona a existir um par\xe2metro de entrada no servi\xe7o)"})]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Nome:"})," Convers\xe3o de Tipo",(0,n.jsx)(r.br,{}),"\n",(0,n.jsx)(r.strong,{children:"Fun\xe7\xe3o:"})," Converter o tipo de entrada do formato ANY, para o formato  do servi\xe7o que esse servi\xe7o encapsula.",(0,n.jsx)(r.br,{}),"\n","Deve-se observar se o par\xe2metro de entrada ou \xe9 um objeto ou \xe9 um JSON",(0,n.jsx)(r.br,{}),"\n","Esse par\xe2metro pode ser fatorado em quantos atributos de entrada forem necess\xe1rios. Os nomes dessas vari\xe1veis tamb\xe9m devem se referir aos nomes dos atributos de entrada"]}),"\n",(0,n.jsx)(r.p,{children:(0,n.jsx)(r.strong,{children:"Exemplo:"})}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:"var data = null;\r\nif (typeof tw.local.data === 'string') {\r\n    data = tw.local.data;\r\n} else {\r\n    data = JSON.stringify(tw.local.data);\r\n}\r\ntw.local.data = JSON.parse(data);\n"})}),"\n",(0,n.jsxs)(r.h3,{id:"3-usar-linked-services-persistir-geral-purpose-entity-sf-do--toolkit-tkisc_integracoessistemicascomuns",children:["3. Usar Linked Services Persistir Geral Purpose Entity SF do  ",(0,n.jsx)(r.em,{children:"toolkit TKISC_IntegracoesSistemicasComuns"})]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Nome:"})," Persistir Geral Purpose Entity SF",(0,n.jsx)(r.br,{}),"\n",(0,n.jsx)(r.strong,{children:"Fun\xe7\xe3o:"})," Servi\xe7o que persiste um objeto gen\xe9rico no formato json.",(0,n.jsx)(r.br,{}),"\n","Deve-se ficar atento com os par\xe2metros de entrada para utilizar o servi\xe7o. Os valores de entrada s\xe3o estes:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"JsonObject"})," do tipo String",(0,n.jsx)(r.br,{}),"\n","Valor: Vari\xe1vel manipulada na tarefa anterior"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"GeralPurposeBOName"})," do tipo String",(0,n.jsx)(r.br,{}),"\n","Valor: Inserir o nome do BO que ser\xe1 utilizado no servi\xe7o entre aspas duplas exemplo:"]}),"\n"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-javascript",children:'"TransferenciaLancamentosBO"\n'})}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"Token"})," do tipo String",(0,n.jsx)(r.br,{}),"\n","Valor: tw.env.SERVICES_JWT_TOKEN_EV"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"BaseUrl"})," do tipo String\r\nValor: tw.env.SERVICES_BASE_URL_EV"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.strong,{children:"TentativasConflito"})," do tipo Integer",(0,n.jsx)(r.br,{}),"\n","Valor: 0"]}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Boundary Event:"})," Adicionar um boundary event para capturar erro ",(0,n.jsx)(r.em,{children:"ConfigurationError"}),".",(0,n.jsx)(r.br,{}),"\n",(0,n.jsx)(r.strong,{children:"Boundary Event:"})," Adicionar um boundary event para capturar erro ",(0,n.jsx)(r.em,{children:"IntegrationError"}),"."]}),"\n",(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"Exemplo:"}),(0,n.jsx)(r.br,{}),"\n",(0,n.jsx)(r.img,{alt:"BPMN",src:s(1488).A+"",width:"474",height:"100"})]})]})}function p(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},4834:(e,r,s)=>{s.d(r,{A:()=>i});const i=s.p+"assets/images/servico_persistir_general_purpose_entity-e81a9bde788f01fc817495211f7600c9.svg"},1488:(e,r,s)=>{s.d(r,{A:()=>i});const i=s.p+"assets/images/servico_persistir_general_purpose_entity_exemplo-e8fae3abec9f923e2c336595b04cbdaf.png"},8453:(e,r,s)=>{s.d(r,{R:()=>t,x:()=>o});var i=s(6540);const n={},a=i.createContext(n);function t(e){const r=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),i.createElement(a.Provider,{value:r},e.children)}}}]);