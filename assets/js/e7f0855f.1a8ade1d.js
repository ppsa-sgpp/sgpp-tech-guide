"use strict";(self.webpackChunksgpp_tech_guide=self.webpackChunksgpp_tech_guide||[]).push([[6237],{131:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>l,contentTitle:()=>t,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"building-blocks/ibm-baw/envio-email","title":"Envio de E-mail com Gera\xe7\xe3o de Texto via Template","description":"\ud83d\udce2 Uso de Template no Toolkit TKTEMPL_SgppTemplates (TKTEMPL)","source":"@site/docs/building-blocks/ibm-baw/envio-email.md","sourceDirName":"building-blocks/ibm-baw","slug":"/building-blocks/ibm-baw/envio-email","permalink":"/sgpp-tech-guide/docs/building-blocks/ibm-baw/envio-email","draft":false,"unlisted":false,"editUrl":"https://github.com/ppsa-sgpp/sgpp-tech-guide/edit/main/docs/building-blocks/ibm-baw/envio-email.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Client-Side Exception Wrapper","permalink":"/sgpp-tech-guide/docs/building-blocks/ibm-baw/client-side-exception-wrapper"},"next":{"title":"Loop e Servi\xe7o","permalink":"/sgpp-tech-guide/docs/building-blocks/ibm-baw/loop-de-servico"}}');var s=n(5813),a=n(1911);const r={},t="Envio de E-mail com Gera\xe7\xe3o de Texto via Template",l={},d=[{value:"Diagrama BPMN",id:"diagrama-bpmn",level:2},{value:"Etapas de Execu\xe7\xe3o",id:"etapas-de-execu\xe7\xe3o",level:2},{value:"1. <code>log and init</code>",id:"1-log-and-init",level:3},{value:"2. <code>Defini\xe7\xe3o de Metadados</code>",id:"2-defini\xe7\xe3o-de-metadados",level:3},{value:"3. <code>Defini\xe7\xe3o de Vari\xe1veis a serem Substitu\xeddas</code>",id:"3-defini\xe7\xe3o-de-vari\xe1veis-a-serem-substitu\xeddas",level:3},{value:"4. <code>Gerar texto</code>",id:"4-gerar-texto",level:3},{value:"5. <code>Enviar e-mail</code>",id:"5-enviar-e-mail",level:3},{value:"6. Encerramento",id:"6-encerramento",level:3}];function c(e){const i={blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"envio-de-e-mail-com-gera\xe7\xe3o-de-texto-via-template",children:"Envio de E-mail com Gera\xe7\xe3o de Texto via Template"})}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsxs)(i.p,{children:["\ud83d\udce2 ",(0,s.jsx)(i.strong,{children:"Uso de Template no Toolkit TKTEMPL_SgppTemplates (TKTEMPL)"})]}),"\n",(0,s.jsxs)(i.p,{children:["Este ",(0,s.jsx)(i.em,{children:"building block"})," possui um template dispon\xedvel no toolkit ",(0,s.jsx)(i.strong,{children:"TKTEMPL_SgppTemplates (TKTEMPL)"}),". A menos que existam motivos t\xe9cnicos ou operacionais razo\xe1veis para uma implementa\xe7\xe3o personalizada, o uso do template \xe9 altamente recomendado."]}),"\n",(0,s.jsxs)(i.p,{children:["\u2705 ",(0,s.jsx)(i.strong,{children:"Vantagens de utilizar o template:"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Padroniza\xe7\xe3o e conformidade com boas pr\xe1ticas."}),"\n",(0,s.jsx)(i.li,{children:"Manuten\xe7\xe3o simplificada e suporte cont\xednuo."}),"\n",(0,s.jsx)(i.li,{children:"Redu\xe7\xe3o de esfor\xe7o e tempo de desenvolvimento."}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Caso haja necessidade de uma implementa\xe7\xe3o alternativa, recomenda-se justificar a decis\xe3o e avaliar poss\xedveis impactos."}),"\n",(0,s.jsxs)(i.p,{children:["\ud83d\udd17 Consulte a documenta\xe7\xe3o do ",(0,s.jsx)(i.strong,{children:"TKTEMPL_SgppTemplates"})," para mais detalhes sobre o template dispon\xedvel."]}),"\n"]}),"\n",(0,s.jsxs)(i.p,{children:["\ud83d\udd0d\ufe0f ",(0,s.jsx)(i.strong,{children:"Local de cria\xe7\xe3o:"})," IBM BAW",(0,s.jsx)(i.br,{}),"\n","\u231b\ufe0f ",(0,s.jsx)(i.strong,{children:"Tempo estimado:"})," 6 a 8 horas",(0,s.jsx)(i.br,{}),"\n","\ud83d\udce8 ",(0,s.jsx)(i.strong,{children:"Fun\xe7\xe3o:"})," Gera\xe7\xe3o de conte\xfado textual e envio automatizado de e-mail com template HTML"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"diagrama-bpmn",children:"Diagrama BPMN"}),"\n",(0,s.jsx)(i.p,{children:(0,s.jsx)(i.img,{alt:"BPMN",src:n(1748).A+"",width:"797",height:"90"})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"etapas-de-execu\xe7\xe3o",children:"Etapas de Execu\xe7\xe3o"}),"\n",(0,s.jsxs)(i.h3,{id:"1-log-and-init",children:["1. ",(0,s.jsx)(i.code,{children:"log and init"})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Tipo:"})," Script",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Objetivo:"})," Inicializar vari\xe1veis locais e registrar informa\xe7\xf5es b\xe1sicas no log.",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Exemplo:"})]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-javascript",children:'tw.local.serviceName = "EnvioEmailComTemplateService";\nlog.info("Servi\xe7o: " + tw.local.serviceName);\n'})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsxs)(i.h3,{id:"2-defini\xe7\xe3o-de-metadados",children:["2. ",(0,s.jsx)(i.code,{children:"Defini\xe7\xe3o de Metadados"})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Tipo:"})," Script",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Objetivo:"})," Definir informa\xe7\xf5es padr\xe3o do e-mail.",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Exemplo:"})]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-javascript",children:'tw.local.smtpHost = tw.env.SMTP_SERVER_EV;\ntw.local.contentType = "text/html";\ntw.local.bcc = "";\ntw.local.cc = "";\ntw.local.from = "";\ntw.local.replyTo = "";\ntw.local.subject = "";\ntw.local.to = "";\ntw.local.compactarAnexos = false;\n'})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsxs)(i.h3,{id:"3-defini\xe7\xe3o-de-vari\xe1veis-a-serem-substitu\xeddas",children:["3. ",(0,s.jsx)(i.code,{children:"Defini\xe7\xe3o de Vari\xe1veis a serem Substitu\xeddas"})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Tipo:"})," Script",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Objetivo:"})," Informar o nome do template e as vari\xe1veis a serem substitu\xeddas.",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Exemplo:"})]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-javascript",children:'tw.local.nomeArquivoTemplate = "exemplo_email_template.html";\ntw.local.verificarVariaveisNPopuladas = true;\ntw.local.mapaVariaveisSubistituicao = [\n  {"name":"variavelDeSubstituicao", "value":"Texto substitu\xeddo com sucesso!"}\n];\n'})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsxs)(i.h3,{id:"4-gerar-texto",children:["4. ",(0,s.jsx)(i.code,{children:"Gerar texto"})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Tipo:"})," Servi\xe7o",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Servi\xe7o:"})," ",(0,s.jsx)(i.code,{children:"Gerar Texto de Template SF"}),(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Toolkit:"})," ",(0,s.jsx)(i.code,{children:"TKISC_IntegracoesSistemicasComuns"}),(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Fun\xe7\xe3o:"})," Gerar corpo do e-mail substituindo vari\xe1veis no HTML."]}),"\n",(0,s.jsxs)(i.blockquote,{children:["\n",(0,s.jsxs)(i.p,{children:["\u26a0\ufe0f O arquivo de template deve ser adicionado ao Process App como um ",(0,s.jsx)(i.strong,{children:"Server File"}),".",(0,s.jsx)(i.br,{}),"\n","Exemplo de conte\xfado de arquivo:"]}),"\n"]}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:'<html>\n  <body>\n    <p>Esse e-mail \xe9 um exemplo da funcionalidade "Gerar Texto de Template SF": ${variavelDeSubstituicao}.</p>\n  </body>\n</html>\n'})}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsxs)(i.h3,{id:"5-enviar-e-mail",children:["5. ",(0,s.jsx)(i.code,{children:"Enviar e-mail"})]}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Tipo:"})," Servi\xe7o",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Servi\xe7o:"})," ",(0,s.jsx)(i.code,{children:"Enviar Email com Anexos SF"}),(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Toolkit:"})," ",(0,s.jsx)(i.code,{children:"TKISC_IntegracoesSistemicasComuns"}),(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Fun\xe7\xe3o:"})," Enviar o e-mail com o conte\xfado gerado no passo anterior."]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h3,{id:"6-encerramento",children:"6. Encerramento"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Tipo:"})," Fim do processo",(0,s.jsx)(i.br,{}),"\n",(0,s.jsx)(i.strong,{children:"Objetivo:"})," Encerrar o fluxo ap\xf3s o envio do e-mail com sucesso."]})]})}function m(e={}){const{wrapper:i}={...(0,a.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},1748:(e,i,n)=>{n.d(i,{A:()=>o});const o=n.p+"assets/images/envio-email-4d60293702ca65e722212f6c5f7623b1.svg"},1911:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>t});var o=n(9729);const s={},a=o.createContext(s);function r(e){const i=o.useContext(a);return o.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function t(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),o.createElement(a.Provider,{value:i},e.children)}}}]);