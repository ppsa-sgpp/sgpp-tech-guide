"use strict";(self.webpackChunksgpp_tech_guide=self.webpackChunksgpp_tech_guide||[]).push([[505],{1911:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>c});var o=n(9729);const i={},r=o.createContext(i);function a(e){const s=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),o.createElement(r.Provider,{value:s},e.children)}},6594:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>o,toc:()=>t});const o=JSON.parse('{"id":"adr/consolidacao-sgpp-services","title":"ADR-013 \u2013 Consolida\xe7\xe3o da l\xf3gica de neg\xf3cio no sgpp-services","description":"- Status: Accepted","source":"@site/docs/adr/0014-consolidacao-sgpp-services.md","sourceDirName":"adr","slug":"/adr/consolidacao-sgpp-services","permalink":"/sgpp-tech-guide/docs/adr/consolidacao-sgpp-services","draft":false,"unlisted":false,"editUrl":"https://github.com/ppsa-sgpp/sgpp-tech-guide/edit/main/docs/adr/0014-consolidacao-sgpp-services.md","tags":[],"version":"current","sidebarPosition":14,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ADR-012 \u2013 Gest\xe3o de e-mails em ambientes n\xe3o-produtivos (MailHog)","permalink":"/sgpp-tech-guide/docs/adr/e-mails-ambientes-n-produtivos"},"next":{"title":"ADR-014 \u2013 Consolida\xe7\xe3o de ambientes: remo\xe7\xe3o do ambiente de Test","permalink":"/sgpp-tech-guide/docs/adr/remocao-test"}}');var i=n(5813),r=n(1911);const a={},c="ADR-013 \u2013 Consolida\xe7\xe3o da l\xf3gica de neg\xf3cio no sgpp-services",d={},t=[{value:"Contexto",id:"contexto",level:2},{value:"Decis\xe3o",id:"decis\xe3o",level:2},{value:"Consequ\xeancias",id:"consequ\xeancias",level:2},{value:"Rela\xe7\xf5es",id:"rela\xe7\xf5es",level:2}];function l(e){const s={br:"br",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsxs)(s.h1,{id:"adr-013--consolida\xe7\xe3o-da-l\xf3gica-de-neg\xf3cio-no-sgpp-services",children:["ADR-013 \u2013 Consolida\xe7\xe3o da l\xf3gica de neg\xf3cio no ",(0,i.jsx)(s.code,{children:"sgpp-services"})]})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Status:"})," Accepted"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Data:"})," 2019-09-13"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"contexto",children:"Contexto"}),"\n",(0,i.jsxs)(s.p,{children:["A decis\xe3o inicial (ver ADR-002) foi utilizar o ",(0,i.jsx)(s.strong,{children:"IBM BAW"})," como n\xfacleo do SGPP, centralizando integra\xe7\xf5es, gera\xe7\xe3o de documentos, l\xf3gica de neg\xf3cio e interface com usu\xe1rios.",(0,i.jsx)(s.br,{}),"\n","Com o avan\xe7o do projeto, essa abordagem mostrou limita\xe7\xf5es:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Manuten\xe7\xe3o dif\xedcil"}),": concentra\xe7\xe3o de c\xf3digo no BAW aumentava a complexidade e os custos de evolu\xe7\xe3o."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Baixa testabilidade"}),": o ambiente do BAW n\xe3o favorecia pr\xe1ticas modernas como testes unit\xe1rios e pipelines de CI/CD."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Integra\xe7\xf5es crescentes"}),": a necessidade de consumir e expor servi\xe7os externos mostrou-se mais eficiente fora do BAW."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Desempenho e flexibilidade"}),": partes cr\xedticas da manipula\xe7\xe3o de dados demandavam maior controle e otimiza\xe7\xe3o."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Diante disso, iniciou-se a migra\xe7\xe3o gradual da l\xf3gica para o microsservi\xe7o ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"sgpp-services"})})," (um mon\xf3lito em Spring Boot), que passou a concentrar as regras de neg\xf3cio e integra\xe7\xf5es.",(0,i.jsx)(s.br,{}),"\n","Esse servi\xe7o tamb\xe9m passou a ",(0,i.jsx)(s.strong,{children:"embarcar o Event Store"}),", tornando-se o ponto central para a escrita e propaga\xe7\xe3o de eventos.",(0,i.jsx)(s.br,{}),"\n","O BAW manteve o papel de orquestra\xe7\xe3o de processos e intera\xe7\xe3o com usu\xe1rios finais."]}),"\n",(0,i.jsx)(s.h2,{id:"decis\xe3o",children:"Decis\xe3o"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["O ",(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.code,{children:"sgpp-services"})})," ser\xe1 o ",(0,i.jsx)(s.strong,{children:"n\xfacleo da l\xf3gica de neg\xf3cio"})," do SGPP."]}),"\n",(0,i.jsxs)(s.li,{children:["O ",(0,i.jsx)(s.code,{children:"sgpp-services"})," tamb\xe9m embarcar\xe1 o ",(0,i.jsx)(s.strong,{children:"Event Store"}),", respons\xe1vel por registrar eventos e propagar mensagens para os handlers que atualizam as proje\xe7\xf5es."]}),"\n",(0,i.jsxs)(s.li,{children:["Fun\xe7\xf5es cr\xedticas migradas para o ",(0,i.jsx)(s.code,{children:"sgpp-services"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Regras de neg\xf3cio implementadas em Java."}),"\n",(0,i.jsx)(s.li,{children:"Integra\xe7\xf5es com sistemas externos."}),"\n",(0,i.jsx)(s.li,{children:"Manipula\xe7\xe3o e persist\xeancia de dados."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["O ",(0,i.jsx)(s.strong,{children:"BAW"})," permanecer\xe1 respons\xe1vel apenas por:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Orquestra\xe7\xe3o de processos de neg\xf3cio."}),"\n",(0,i.jsx)(s.li,{children:"Execu\xe7\xe3o de tarefas humanas via Coaches."}),"\n",(0,i.jsxs)(s.li,{children:["Integra\xe7\xe3o de alto n\xedvel com ",(0,i.jsx)(s.code,{children:"sgpp-services"}),", ODM e outros microsservi\xe7os."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"consequ\xeancias",children:"Consequ\xeancias"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Positivas"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Melhor testabilidade e possibilidade de adotar CI/CD modernos."}),"\n",(0,i.jsx)(s.li,{children:"Maior controle sobre performance e integra\xe7\xf5es."}),"\n",(0,i.jsx)(s.li,{children:"Redu\xe7\xe3o do acoplamento direto com a plataforma IBM."}),"\n",(0,i.jsx)(s.li,{children:"Flexibilidade para evolu\xe7\xe3o futura da arquitetura."}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Negativas (consideradas na \xe9poca)"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["O ",(0,i.jsx)(s.code,{children:"sgpp-services"})," poderia crescer e se tornar um ",(0,i.jsx)(s.strong,{children:"mon\xf3lito pesado"}),", com risco de necessidade futura de ",(0,i.jsx)(s.strong,{children:"refatora\xe7\xe3o em microsservi\xe7os"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:["N\xe3o h\xe1 infraestrutura e pr\xe1ticas consolidadas para garantir ",(0,i.jsx)(s.strong,{children:"qualidade de c\xf3digo"})," (testes, revis\xe3o, padroniza\xe7\xe3o)."]}),"\n",(0,i.jsxs)(s.li,{children:["A coexist\xeancia entre BAW e ",(0,i.jsx)(s.code,{children:"sgpp-services"})," exigiria aten\xe7\xe3o para evitar ",(0,i.jsx)(s.strong,{children:"duplicidade de responsabilidades"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"rela\xe7\xf5es",children:"Rela\xe7\xf5es"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Supersede parcialmente o ADR-002"}),": reduz o papel do BAW como n\xfacleo de integra\xe7\xe3o e l\xf3gica."]}),"\n",(0,i.jsxs)(s.li,{children:["Relaciona-se com ADR-001 (Event Sourcing + CQRS) e ADR-006 (separa\xe7\xe3o de modelos de dados), pois o ",(0,i.jsx)(s.code,{children:"sgpp-services"})," tornou-se respons\xe1vel por materializar essas estrat\xe9gias."]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);