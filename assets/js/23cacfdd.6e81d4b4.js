"use strict";(self.webpackChunksgpp_tech_guide=self.webpackChunksgpp_tech_guide||[]).push([[8833],{1911:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>t});var r=s(9729);const o={},i=r.createContext(o);function a(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(i.Provider,{value:n},e.children)}},9098:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>p,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"adr/c4-structurizr-bpmn","title":"ADR-021 \u2013 C4 + Structurizr (e BPMN.io) como padr\xe3o de documenta\xe7\xe3o","description":"- Status: Accepted","source":"@site/docs/adr/0022-c4-structurizr-bpmn.md","sourceDirName":"adr","slug":"/adr/c4-structurizr-bpmn","permalink":"/sgpp-tech-guide/docs/adr/c4-structurizr-bpmn","draft":false,"unlisted":false,"editUrl":"https://github.com/ppsa-sgpp/sgpp-tech-guide/edit/main/docs/adr/0022-c4-structurizr-bpmn.md","tags":[],"version":"current","sidebarPosition":22,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"ADR-020 \u2013 Notifica\xe7\xf5es em tempo real (WebSocket Manager + WebSocket Hub para BAW)","permalink":"/sgpp-tech-guide/docs/adr/notificacoes-tempo-real"},"next":{"title":"Client-Side Exception Wrapper","permalink":"/sgpp-tech-guide/docs/building-blocks/ibm-baw/client-side-exception-wrapper"}}');var o=s(5813),i=s(1911);const a={},t="ADR-021 \u2013 C4 + Structurizr (e BPMN.io) como padr\xe3o de documenta\xe7\xe3o",d={},c=[{value:"Contexto",id:"contexto",level:2},{value:"Decis\xe3o",id:"decis\xe3o",level:2},{value:"Consequ\xeancias",id:"consequ\xeancias",level:2},{value:"Operacional",id:"operacional",level:2},{value:"Exemplo m\xednimo em Structurizr DSL",id:"exemplo-m\xednimo-em-structurizr-dsl",level:3}];function l(e){const n={br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"adr-021--c4--structurizr-e-bpmnio-como-padr\xe3o-de-documenta\xe7\xe3o",children:"ADR-021 \u2013 C4 + Structurizr (e BPMN.io) como padr\xe3o de documenta\xe7\xe3o"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Status:"})," Accepted"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Data:"})," 2025-09-01"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"contexto",children:"Contexto"}),"\n",(0,o.jsxs)(n.p,{children:["A arquitetura do SGPP precisa de documenta\xe7\xe3o ",(0,o.jsx)(n.strong,{children:"viva, versionada e rastre\xe1vel"}),", capaz de atender diferentes p\xfablicos (neg\xf3cio, desenvolvimento e opera\xe7\xf5es).",(0,o.jsx)(n.br,{}),"\n","O modelo ",(0,o.jsx)(n.strong,{children:"C4"})," \xe9 adequado para representar sistemas em m\xfaltiplos n\xedveis de detalhe (Context, Container, Component e, quando necess\xe1rio, Deployment/Code).",(0,o.jsx)(n.br,{}),"\n","O ",(0,o.jsx)(n.strong,{children:"Structurizr DSL"})," permite modelar e gerar diagramas a partir de c\xf3digo versionado em Git, garantindo rastreabilidade e atualiza\xe7\xe3o cont\xednua.",(0,o.jsx)(n.br,{}),"\n","Para processos de neg\xf3cio executados no BAW, \xe9 adotado o ",(0,o.jsx)(n.strong,{children:"BPMN.io"}),", que possibilita modelagem expl\xedcita e padronizada."]}),"\n",(0,o.jsx)(n.h2,{id:"decis\xe3o",children:"Decis\xe3o"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Adotar ",(0,o.jsx)(n.strong,{children:"C4"})," como linguagem de modelagem principal para o SGPP:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Context"}),": mapa de stakeholders e sistemas externos."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Container"}),": servi\xe7os, bancos, filas, gateways e fronteiras."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Component"}),": principais m\xf3dulos internos de cada servi\xe7o."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Deployment"}),": ambientes (dev/uat/prd) e n\xf3s de execu\xe7\xe3o em Kubernetes/IKS, quando aplic\xe1vel."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Manter diagramas C4 em ",(0,o.jsx)(n.strong,{children:"Structurizr DSL"})," (",(0,o.jsx)(n.code,{children:"/diagrams/c4/*.dsl"}),") como ",(0,o.jsx)(n.strong,{children:"fonte de verdade"}),", gerando imagens automaticamente em pipelines."]}),"\n",(0,o.jsxs)(n.li,{children:["Modelar ",(0,o.jsx)(n.strong,{children:"processos de neg\xf3cio"})," em ",(0,o.jsx)(n.strong,{children:"BPMN"})," (BPMN.io), com arquivos ",(0,o.jsx)(n.code,{children:".bpmn"})," versionados em ",(0,o.jsx)(n.code,{children:"/diagrams/bpmn/"})," e referenciados a partir das vistas C4."]}),"\n",(0,o.jsx)(n.li,{children:"Descontinuar o uso regular de ArchiMate para solu\xe7\xf5es, mantendo apenas se houver exig\xeancia corporativa de EA."}),"\n",(0,o.jsxs)(n.li,{children:["Versionar todos os artefatos (DSL, BPMN, imagens geradas) no reposit\xf3rio, vinculando elementos relevantes aos ",(0,o.jsx)(n.strong,{children:"ADRs correspondentes"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"consequ\xeancias",children:"Consequ\xeancias"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Positivas"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Documenta\xe7\xe3o sempre atualizada, pois deriva de artefatos versionados em reposit\xf3rio."}),"\n",(0,o.jsx)(n.li,{children:"Comunica\xe7\xe3o clara em m\xfaltiplos n\xedveis: vis\xe3o geral r\xe1pida (Context/Container) e detalhamento quando necess\xe1rio (Component/Deployment)."}),"\n",(0,o.jsxs)(n.li,{children:["Maior rastreabilidade, com elementos de diagramas ",(0,o.jsx)(n.strong,{children:"tagueados"})," para apontar ADRs relacionados."]}),"\n",(0,o.jsx)(n.li,{children:"Redu\xe7\xe3o de diverg\xeancia conceitual e visual entre times."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Negativas"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Introdu\xe7\xe3o de curva de aprendizado em Structurizr DSL e BPMN.io para parte da equipe."}),"\n",(0,o.jsx)(n.li,{children:"Depend\xeancia de automa\xe7\xe3o para renderiza\xe7\xe3o e publica\xe7\xe3o de diagramas."}),"\n",(0,o.jsx)(n.li,{children:"Necessidade de disciplina para manter diagramas alinhados ao c\xf3digo e \xe0s ADRs."}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"operacional",children:"Operacional"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["O workspace principal \xe9 mantido em ",(0,o.jsx)(n.code,{children:"diagrams/c4/workspace.dsl"}),", com vistas segmentadas (",(0,o.jsx)(n.code,{children:"context.dsl"}),", ",(0,o.jsx)(n.code,{children:"container.dsl"}),", ",(0,o.jsx)(n.code,{children:"component-<servi\xe7o>.dsl"}),") e inclu\xeddas no workspace."]}),"\n",(0,o.jsxs)(n.li,{children:["Elementos recebem ",(0,o.jsx)(n.strong,{children:"tags"})," que referenciam ADRs (ex.: ",(0,o.jsx)(n.code,{children:'tags "ADR-001, ADR-007"'})," no Event Store)."]}),"\n",(0,o.jsxs)(n.li,{children:["Artefatos BPMN exportados do BAW/BPMN.io s\xe3o armazenados em ",(0,o.jsx)(n.code,{children:"/diagrams/bpmn/"})," e referenciados nas vistas de Container/Processos."]}),"\n",(0,o.jsx)(n.li,{children:"A gera\xe7\xe3o de imagens (PNG/SVG) \xe9 integrada ao pipeline de CI/CD, publicando os resultados junto \xe0 documenta\xe7\xe3o."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"exemplo-m\xednimo-em-structurizr-dsl",children:"Exemplo m\xednimo em Structurizr DSL"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-dsl",children:'workspace "SGPP" "Modelo C4 do SGPP" {\n  model {\n    user = person "Usu\xe1rio SGPP"\n    sgpp = softwareSystem "SGPP"\n    api = container sgpp "sgpp-services" "Spring Boot" "L\xf3gica de neg\xf3cio" { tags "ADR-014" }\n    eventstore = container sgpp "Event Store" "Java" "Persist\xeancia de eventos" { tags "ADR-001,ADR-007" }\n    kafka = container "Kafka" "Broker" "Pub/Sub" { tags "ADR-007" }\n\n    user -> api "Usa"\n    api -> eventstore "Grava eventos"\n    eventstore -> kafka "Publica eventos"\n  }\n  views {\n    container sgpp {\n      include *\n      autoLayout\n    }\n  }\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}}}]);